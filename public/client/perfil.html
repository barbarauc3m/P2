<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Perfil</title>
  <link rel="icon" href="../../../images/lavadora_logo.svg" type="image/x-icon">
  <link rel="stylesheet" href="styles/perfil.css" />
  <link rel="stylesheet" href="styles/login.css" />
  <script src="/socket.io/socket.io.js"></script>
  <script src="script/navegacion.js"></script>

</head>
<body>
  <section class="stats">
    <h1 class="username">kk</h1>
    <div class="stats-box">
      <div class="stats-info">
        <p>⭐ Lavados completados: <span class="completados">54</span></p>
        <p>❤️ Lavados favoritos: <span class="favoritos">4</span></p>
      </div>
      <div class="profile-container">
        <img id="perfil-imagen" src="../../images/persona_os.svg" alt="Avatar" class="avatar"/>
      
        <!-- Botón de opciones -->
        <button id="profile-dropdown-btn" class="profile-edit-btn">
          <img src="../../images/editar.svg" alt="Opciones" width="20" height="20">
        </button>
      
        <!-- Menú dropdown -->
        <div id="profile-dropdown-menu">
          <ul>
            <li id="dropdown-edit-profile">Editar perfil</li>
            <li id="dropdown-logout">Cerrar sesión</li>
          </ul>
        </div>
      </div>
      
      <!-- ======================
             MODAL EDITAR
      ======================== -->
      <!-- PERFIL – NUEVO POPUP -->
<div id="profile-modal" class="popup-overlay">
  <div class="popup-animado container">
    <h2 class="heading">Editar perfil</h2>
    <form id="profile-form" class="form">
      <!-- Foto -->
       <div class="foto">
        <img id="profile-edit-foto" src="../../images/persona_os.svg" alt="Previsualización">
        <input type="file" id="profile-edit-foto-input" accept="image/*" style="display:none" onchange="previewImagePerfil(event)">
        <button type="button" class="profile-edit-button" onclick="subirFoto(event)">
          <img src="../../images/editar.svg" alt="Opciones" width="20" height="20">
        </button>
      </div>  

      <!-- Campos -->
      <input type="text" id="edit-username" class="input" placeholder="Usuario">
      <input type="password"  id="edit-password" class="input" placeholder="Contraseña">
      <input type="email" id="edit-email" class="input" placeholder="Email">

      <!-- Guardar -->
      <button type="submit" class="login-button">Guardar cambios</button>
    </form>
  </div>
</div>


      
    </div>
  </section>

  <section class="programas">
    <div class="section-title">
      <h2>Mis programas</h2>
      <a href="lavados-favs.html" id="ver-mas-programas">ver más</a>
    </div>
    <section class="lavado-box-none">
      <div class="lavado-sombra">
        <div class="sombra sombra-50"></div>
        <div class="sombra sombra-20"></div>
        <div class="lavado">
          <div class="lavado-header">
            <p class="lavado-text">Comienza a registrar tus lavados favoritos</p>
            <div class="lavado-button">
              <button class="button-lav">Registralos</button>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="lavado-box">
      <!-- Aquí se generará el úñtimo lavado guardado, ya sea en like o personalizado creado-->
    </section>
  </section>

  <section class="categorias">
    <div class="section-header">
      <h2>Lavados anteriores</h2>
      <a href="historial.html" id="historial">ver más</a>
    </div>
    <div class="categoria-list">
      <!-- Aquí van los lavados anteriores -->
    </div>
  </section>

  <div class="button-container">
    <button class="button-nav" id="nav-home-button" onclick="window.location.href='index.html'">
      <img src="../../../images/casa_blanca.svg" alt="Casa" class="icon-img" />
    </button>
    <button class="button-nav" id="boton-mando" onclick="loadJuegos()">
      <img src="../../../images/mando_claro.svg" alt="Mando" class="icon-img" />
    </button>
    <button class="button-nav" id="perfil-boton">
      <img src="../../../images/persona_cla.svg" alt="Persona" class="icon-img" id="perfil-icono"/>
    </button>
    <button class="button-nav" onclick="window.location.href='lavado-personalizado.html'">
      <img src="../../../images/icon_cam_cla.svg" alt="Camara" class="icon-img" />
    </button>
  </div>
    <script src="script/perfil.js"></script>

       <!-- POPUP DE INICIO DE SESIÓN -->
  <div id="popup-login" class="popup-overlay">
    <div class="container popup-animado">
      <div class="heading">Inicia Sesión</div>
      <form id="login-form-nuevo" class="form">
        <input required class="input" type="email" name="email" id="emailLoginNuevo" placeholder="E-mail">
        <input required class="input" type="password" name="password" id="passwordLoginNuevo" placeholder="Contraseña">
        <span class="forgot-password"><a href="#"  id="abrir-registro" >¿No tienes cuenta?</a></span>
        <input class="login-button" type="submit" value="Inicia Sesión">
      </form>
    </div>
  </div>
  <script src="script/login.js"></script>

  <!-- POPUP DE REGISTRO -->
  <div id="popup-register" class="popup-overlay">
  <div class="container popup-animado">
    <div class="heading">Registrate</div>
    <form id="register-form" class="form">
      <input required class="input" type="name" id="nameRegister" placeholder="Username">
      <input required class="input" type="email" id="emailRegister" placeholder="E-mail">
      <input required class="input" type="password" id="passwordRegister" placeholder="Contraseña">
      <span class="forgot-password">
        <a href="#" id="abrir-login">¿Ya tienes cuenta?</a>
      </span>          
      <input class="login-button" type="submit" value="Registrate">
    </form>
  </div>
</div>
<script src="script/register.js"></script>
    
</body>
</html>
